<div class="wrapper FLOAT hide">
    <div class="float-main-container">
        <div class="float-controls-status-col">
            <div class="float-status-panel box_float">
                <div class="title">FLOAT STATUS</div>
                <div class="status-grid">
                    <div class="status-item"><span class="status-label">SERIAL:</span> <span id="float-serial-status" class="status-indicator">OFF</span></div>
                    <div class="status-item"><span class="status-label">READY:</span> <span id="float-ready-status" class="status-indicator">OFF</span></div>
                    <div class="status-item"><span class="status-label">EXECUTING:</span> <span id="float-executing-status" class="status-indicator">OFF</span></div>
                    <div class="status-item"><span class="status-label">DATA AVAIL:</span> <span id="float-data-avail-status" class="status-indicator">OFF</span></div>
                    <div class="status-item"><span class="status-label">AUTO MODE:</span> <span id="float-auto-mode-status" class="status-indicator">OFF</span></div>
                    <div class="status-item"><span class="status-label">WIFI CONN:</span> <span id="float-wifi-status" class="status-indicator">OFF</span></div>
                    <div class="status-item"><span class="status-label">BATTERY:</span> <span id="float-battery-level">N/A</span></div>
                    <div class="status-item"><span class="status-label">RSSI:</span> <span id="float-rssi-level">N/A</span></div>
                </div>
            </div>

            <div class="float-commands-panel box_float">
                <div class="title">COMMANDS</div>
                <div class="commands-grid">
                    <button class="float-button" onclick="sendFloatCmd('GO')">GO (Profile)</button>
                    <button class="float-button" onclick="sendFloatCmd('BALANCE')">BALANCE</button>
                    <button class="float-button" onclick="sendFloatCmd('CLEAR_SD')">CLEAR SD</button>
                    <button class="float-button" onclick="sendFloatCmd('SWITCH_AUTO_MODE')">TOGGLE AUTO</button>
                    <button class="float-button" onclick="sendFloatCmd('SEND_PACKAGE')">SEND PACKAGE</button>
                    <button class="float-button" onclick="sendFloatCmd('TRY_UPLOAD')">OTA UPLOAD</button>
                    <button class="float-button" onclick="sendFloatCmd('DEBUG')">TOGGLE DEBUG</button>
                    <button class="float-button" onclick="sendFloatCmd('HOME_MOTOR')">HOME MOTOR</button>
                </div>
                <div class="param-command">
                    <input type="number" id="kp-input" placeholder="Kp (e.g. 10.0)">
                    <input type="number" id="ki-input" placeholder="Ki (e.g. 0.0)">
                    <input type="number" id="kd-input" placeholder="Kd (e.g. 300.0)">
                    <button class="float-button" onclick="sendPidParamsCmd()">SET PID</button>
                </div>
                <div class="param-command">
                    <input type="number" id="test-freq-input" placeholder="Test Freq (e.g. 200)">
                    <button class="float-button" onclick="sendTestFreqCmd()">SET TEST FREQ</button>
                </div>
                <div class="param-command">
                    <input type="number" id="test-steps-input" placeholder="Test Steps (e.g. 100)">
                    <button class="float-button" onclick="sendTestStepsCmd()">RUN TEST STEPS</button>
                </div>
                <div class="ack-status-area">
                    Last Command ACK: <span id="float-ack-status">N/A</span>
                </div>
            </div>
             <div class="float-data-fetch-panel box_float">
                <div class="title">PROFILE DATA</div>
                <button id="fetch-profile-data-button" class="float-button" onclick="fetchProfileData()" disabled>FETCH STORED DATA</button>
                <div id="profile-data-status"></div>
            </div>
        </div>

        <div class="float-data-display-col">
            <div class="float-package-display box_float">
                <div class="title">LAST RECEIVED PACKAGE</div>
                <pre id="float-package-content">No package received yet.</pre>
            </div>
            <div class="float-profile-data-display box_float">
                <div class="title">PROFILE DATA LOG</div>
                <div id="profile-plot-container">
                    <!-- Plot will be inserted here -->
                </div>
                <pre id="profile-data-raw">No profile data fetched yet.</pre>
            </div>
        </div>
    </div>
    <div class="float-raw-serial-debug box_float">
        <div class="title">RAW SERIAL DEBUG LOG (Frontend View)</div>
        <textarea id="float-serial-debug-output" readonly></textarea>
    </div>
</div>